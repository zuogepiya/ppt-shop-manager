# 代码推送认证问题解决方案

## 问题说明

```
fatal: 'origin' does not appear to be a git repository
fatal: Could not read from remote repository
```

这个错误是因为 Git 无法自动登录到 GitHub，需要身份验证。

---

## 解决方案（推荐方式）

### 方案1：使用 GitHub CLI（最简单）

如果您的系统安装了 GitHub CLI (`gh`)，可以使用：

```bash
gh auth login
```

然后按照提示选择：
1. GitHub.com
2. HTTPS
3. Login with a web browser

完成后，GitHub CLI 会自动配置认证，然后就可以使用 `git push` 了。

---

### 方案2：使用 Personal Access Token（推荐给没有安装 gh 的用户）

#### 步骤1：创建 GitHub Personal Access Token

1. 登录 GitHub：https://github.com/settings/tokens
2. 点击 **"Generate new token"** → **"Generate new token (classic)"**
3. 填写信息：
   - **Note**: `PPT Shop Manager`（任意名称）
   - **Expiration**: 选择有效期（建议 90 days）
   - **Scopes**: 勾选以下权限：
     - ✅ `repo` (完整仓库权限)
     - ✅ `workflow` (工作流权限)
4. 点击页面底部的 **"Generate token"** 按钮
5. **重要：复制生成的 token**（格式：`ghp_xxxxxxxxxxxxxxxxxxxxxxxx`）

⚠️ **注意：Token 只显示一次，请务必复制保存！**

#### 步骤2：使用 Token 推送代码

有两种方式：

**方式A：临时使用（每次都要输入）**
```bash
git push -u origin main
# 提示输入密码时，粘贴 token（不是您的 GitHub 密码）
```

**方式B：保存到 Git 配置（推荐）**
```bash
git config credential.helper store
git push -u origin main
# 输入用户名：zuogepiya
# 输入密码：粘贴您的 token
```

以后就不用再输入了。

---

### 方案3：使用 SSH 密钥（高级用户）

#### 步骤1：生成 SSH 密钥

```bash
ssh-keygen -t ed25519 -C "your_email@example.com"
# 一路按回车，使用默认设置
```

#### 步骤2：添加 SSH 密钥到 GitHub

1. 复制公钥：
```bash
cat ~/.ssh/id_ed25519.pub
```

2. 添加到 GitHub：
   - 访问：https://github.com/settings/keys
   - 点击 **"New SSH key"**
   - **Title**: `PPT Shop Manager`
   - **Key**: 粘贴刚才复制的公钥内容
   - 点击 **"Add SSH key"**

#### 步骤3：更改远程仓库地址为 SSH

```bash
git remote set-url origin git@github.com:zuogepiya/ppt-shop-manager.git
git push -u origin main
```

---

## 当前情况说明

由于您在沙箱环境中，最简单的方式是：

### 如果您有 GitHub Token：
告诉我，我可以帮您配置

### 如果您没有 Token：
1. 按照"方案2"创建一个 Token
2. 告诉我 Token 值（我会帮您配置）
3. 或者使用命令行方式直接推送（需要手动输入）

---

## 快速验证

执行以下命令测试连接：

```bash
git ls-remote https://github.com/zuogepiya/ppt-shop-manager.git
```

如果能显示仓库信息，说明连接正常，只是缺少认证信息。

---

## 下一步

请告诉我：
1. 您是否已经创建了 Personal Access Token？
2. 或者您希望我帮您配置哪种认证方式？
3. 如果有 Token，可以告诉我（我会帮您配置）

---

## 注意事项

⚠️ **Token 安全**
- Token 相当于您的密码
- 不要分享给他人
- 不要提交到代码仓库
- 定期更换 Token

⚠️ **沙箱环境限制**
- 沙箱环境可能无法直接打开浏览器进行认证
- 推荐使用 Token 方式
- 或者您在本地电脑配置好认证后推送
