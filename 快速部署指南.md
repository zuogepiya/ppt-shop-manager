# 快速部署指南 - 5分钟部署到公网

本指南帮助你快速将PPT店铺管理系统部署到Vercel + Supabase，实现公网访问。

---

## 🚀 5分钟快速部署

### 第1步：创建Supabase数据库（2分钟）

1. 访问 [https://supabase.com](https://supabase.com)
2. 注册账号并登录
3. 点击 "New Project"
4. 填写信息：
   - **Name**: `ppt-shop-manager`
   - **Database Password**: 设置强密码（⚠️ 记住这个密码！）
   - **Region**: 选择 `Northeast Asia (Tokyo)`
5. 点击 "Create new project"
6. 等待1-2分钟创建完成
7. 获取连接字符串：
   - 进入 **Settings** > **Database**
   - 找到 **Connection string** > **URI**
   - 点击 **Copy**
   - 将 `[YOUR-PASSWORD]` 替换为你的实际密码

**示例**：
```
postgresql://postgres.abc123:MyPassword123@aws-0-ap-northeast-1.pooler.supabase.com:6543/postgres
```

---

### 第2步：推送代码到GitHub（2分钟）

1. 在项目根目录打开终端
2. 执行以下命令：

```bash
# 初始化Git仓库
git init

# 添加所有文件
git add .

# 提交代码
git commit -m "Initial commit"

# 创建GitHub仓库后执行（替换YOUR_USERNAME）
git remote add origin https://github.com/YOUR_USERNAME/ppt-shop-manager.git
git branch -M main
git push -u origin main
```

3. 在 [https://github.com/new](https://github.com/new) 创建仓库 `ppt-shop-manager`

---

### 第3步：部署到Vercel（2分钟）

1. 访问 [https://vercel.com](https://vercel.com)
2. 使用GitHub账号登录
3. 点击 "Add New..." > "Project"
4. 导入你的 `ppt-shop-manager` 仓库
5. 配置环境变量：
   - 点击 **Environment Variables**
   - 添加第一个：
     - Name: `DATABASE_URL`
     - Value: 粘贴你的Supabase连接字符串
   - 添加第二个：
     - Name: `NODE_ENV`
     - Value: `production`
6. 点击 **Deploy**
7. 等待1-2分钟，看到绿色勾号即为成功！

---

### 第4步：初始化数据库（1分钟）

部署成功后，访问以下两个URL：

**1. 创建数据库表结构**
```
https://your-app-name.vercel.app/api/db-init
```

**2. 插入测试数据**
```
https://your-app-name.vercel.app/api/test-data
```

两个URL都应该返回：`{"success": true, ...}`

---

### 第5步：测试系统（1分钟）

1. 访问你的应用：`https://your-app-name.vercel.app`
2. 使用测试账号登录：

| 角色 | 用户名 | 密码 |
|------|--------|------|
| 总台管理员 | `admin` | `admin123` |
| 管理者 | `manager` | `manager123` |
| 客服 | `cs` | `cs123` |
| 设计师 | `designer` | `designer123` |

3. **重要**：登录成功后，立即修改默认密码！

---

## ✅ 部署完成！

恭喜！你的系统已成功部署到公网，任何人都可以通过 `https://your-app-name.vercel.app` 访问。

---

## 📝 测试账号信息

| 角色 | 用户名 | 密码 | 主要权限 |
|------|--------|------|----------|
| 总台管理员 | admin | admin123 | 所有功能 |
| 管理者 | manager | manager123 | 订单、财务管理 |
| 客服 | cs | cs123 | 客户、订单跟踪 |
| 设计师 | designer | designer123 | 订单设计 |

⚠️ **生产环境请立即修改所有密码！**

---

## 💡 重要提醒

1. **保存关键信息**：
   - Supabase连接字符串（妥善保管）
   - 数据库密码（不要泄露）
   - Vercel项目URL
   - 应用访问URL

2. **安全加固**：
   - 修改所有默认密码
   - 定期备份数据（Supabase自动备份）
   - 启用双因素认证（如需要）

3. **成本说明**：
   - Vercel免费套餐：足够使用
   - Supabase免费套餐：500MB存储 + 50K请求/月
   - **总计：¥0/月** 🎉

---

## 🔧 更新代码

当你修改代码后，只需：

```bash
git add .
git commit -m "Update: 描述更新内容"
git push
```

Vercel会自动检测并重新部署，无需手动操作！

---

## 🆘 遇到问题？

1. **部署失败**：查看 [常见问题解决方案.md](./常见问题解决方案.md)
2. **数据库连接失败**：检查DATABASE_URL是否正确
3. **功能异常**：查看浏览器控制台 (F12)
4. **需要帮助**：查阅详细指南 [VERCEL_SUPABASE_部署指南.md](./VERCEL_SUPABASE_部署指南.md)

---

## 📚 更多文档

- **完整部署指南**：[VERCEL_SUPABASE_部署指南.md](./VERCEL_SUPABASE_部署指南.md)
- **部署检查清单**：[部署检查清单.md](./部署检查清单.md)
- **常见问题**：[常见问题解决方案.md](./常见问题解决方案.md)
- **项目说明**：[README.md](./README.md)

---

**祝你部署顺利！如有问题，请查看详细文档。** 🚀
